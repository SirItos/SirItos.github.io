(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{"7ff3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"roboto"},[s("q-img",{attrs:{src:"images/samsung/HeaderLogo.png","no-default-spinner":""}}),s("div",{staticClass:"q-mt-xl q-px-md"},[t.customerState?t._e():s("div",[s("div",{staticClass:"text-weight-medium text-primary_samsung text-h5"},[t._v("\n        Оформите Цифровую карту Мир Привилегий\n      ")]),s("div",{staticClass:"text-weight-medium ",staticStyle:{"font-size":"18px","margin-top":"12px"}},[t._v("\n        и получай скидку 20% на мобильную технику Samsung\n      ")])]),s("div",{staticStyle:{"margin-top":"40px"}},[s("div",{staticClass:"text-weight-medium text-primary_samsung text-h5"},[t._v("\n        Условия акции\n      ")]),s("list-item",{attrs:{adv:t.conditions,color:"light_samsung",numbers:""}})],1),s("div",{staticStyle:{"margin-top":"40px","margin-bottom":"56px"}},[s("div",{staticClass:"text-weight-medium text-primary_samsung text-h5"},[t._v("\n        Как использовать промокод?\n      ")]),s("list-item",{attrs:{adv:t.howToUse,color:"light_samsung"}})],1),t.customerPromoCode?s("div",{staticClass:"text-weight-medium text-h5 q-mb-lg text-primary_samsung"},[t._v("\n      Ваш промокод: "+t._s(t.customerPromoCode)+"\n    ")]):t._e(),s("div",{staticClass:"q-gutter-y-lg"},[s("a",{ref:"linkRef",staticStyle:{display:"none"},attrs:{href:t.deepLink,target:"_blank"}}),s("q-btn",{staticClass:"samsung-btn full-width",staticStyle:{transition:"background 0.3s"},attrs:{color:t.copyMessageState?"light_samsung":"primary_samsung",padding:"14px",size:"20px","no-caps":""},on:{click:function(e){return t.mainAction(t.customerPromoCode,t.customerPhone)}}},[s("div",{staticClass:"text-center full-width",staticStyle:{position:"relative"}},[s("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[s("q-img",{directives:[{name:"show",rawName:"v-show",value:t.copyMessageState,expression:"copyMessageState"}],staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{src:"images/samsung/DoneWhite.svg",width:"32px","no-default-spinner":""}})],1),s("div",[t._v("\n            "+t._s(t.copyMessageState?"Код скопирован!":t.mainButtonText)+"\n          ")])],1)]),s("q-btn",{staticClass:"samsung-btn full-width",attrs:{disable:!t.customerState,color:t.storeBtn.bg,"text-color":t.storeBtn.text,target:"_blank",type:t.customerState?"a":"",href:"https://samsung.com/ru/",label:"Перейти в магазин",padding:"14px",size:"20px","no-caps":""},on:{clikc:function(e){return t.amplitudeClickEvent("services_samsung_shop",{tel:t.customerPhone})}}})],1),s("div",{staticClass:"row justify-center",staticStyle:{"margin-top":"32px"}},[s("div",{staticClass:"col-8 text-center text-dark-grey_samsung text-weight-medium"},[t._v("\n        С полными правилами акции"),s("br"),t._v("\n        можно ознакомиться\n        "),s("a",{staticClass:"text-light_samsung inline",attrs:{href:"#"}},[t._v("здесь")])])])]),s("div",[s("q-img",{attrs:{src:"images/samsung/bottom.png","no-default-spinner":""}})],1)],1)},n=[],i=s("e4fd"),o=s("436b"),c=s("f508"),r=s("ef77"),l=s("0854"),m=s("79f6"),u=function(t,e,s,a){function n(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,i){function o(t){try{r(a.next(t))}catch(e){i(e)}}function c(t){try{r(a["throw"](t))}catch(e){i(e)}}function r(t){t.done?s(t.value):n(t.value).then(o,c)}r((a=a.apply(t,e||[])).next())}))};const{amplitudeClickEvent:g}=Object(l["a"])(),p=()=>{const t=['<span class="text-weight-medium text-light-black_samsung">Акция действует на товары в разделе «Мобильные устройства и аксессуары»</span>','<span class="text-weight-medium text-light-black_samsung">Промокод может быть применен только 1 раз</span>','<span class="text-weight-medium text-light-black_samsung">Скидка действует на всю сумму заказа</span>','<span class="text-weight-medium text-light-black_samsung">Для использования промокода нужно иметь/зарегистрировать свой личный кабинет в Samsung</span>'],e=['<span class="text-weight-medium text-light-black_samsung">Войдите в личный кабинет Samsung</span>','<span class="text-weight-medium text-light-black_samsung">Введите промокод</span>','<span class="text-weight-medium text-light-black_samsung">Перейдите в каталог и положите товар в корзину</span>','<span class="text-weight-medium text-light-black_samsung">Оформите заказ со скидкой 20% на всю сумму</span>'];return{conditions:t,howToUse:e}},d=()=>{const t=Object(i["ref"])(!1),e=()=>{t.value=!0,setTimeout((()=>{t.value=!1}),2e3)},s=(t,s)=>{navigator.clipboard&&t&&navigator.clipboard.writeText(t).then((()=>{e(),g("services_samsung_promocod",{tel:s})}))};return{copyMessageState:t,copyToClipboard:s}},b=t=>{const e=Object(i["computed"])((()=>t?"Скопировать код":"Оформить Цифровую карту")),s=Object(i["computed"])((()=>t?{bg:"secondary_samsung",text:"white"}:{bg:"disabled_samsung",text:"dark-grey_samsung"}));return{mainButtonText:e,storeBtn:s}},v=t=>{const e=Object(i["ref"])(""),{setData:s}=Object(r["b"])(e);Object(r["a"])("dev_setUserPhone",(t=>{c["a"].hide(),s(t),n(),g("services_samsung_mkbopen",{tel:e.value})})),Object(i["onMounted"])((()=>{t&&(c["a"].show({spinnerColor:"primary_samsung"}),Object(r["f"])("requestPhoneNumber"))}));const a=Object(i["ref"])(""),n=()=>u(void 0,void 0,void 0,(function*(){yield Object(m["d"])(e.value).then((t=>{console.log(t),(null===t||void 0===t?void 0:t.promocode)?a.value=t.promocode:o["a"].create({title:"Ошибка.",message:"Не удалось получить промокод.",ok:{color:"primary_samsung",flat:!0,"no-caps":!0}})}))}));return Object.assign({customerPhone:e,customerPromoCode:a,setCustomerPromocode:n},b(t))},h=()=>{const t=Object(i["ref"])({click:()=>!0}),e="bp://services?service=bpclub",s=e=>{o["a"].create({title:"Перейти к оформлению?",ok:{label:"Да",color:"primary_samsung","no-caps":!0},cancel:{label:"Нет",flat:!0,textColor:"primary_samsung","no-caps":!0}}).onOk((()=>{g("services_samsung_mkbcard",{tel:e}),console.log(t),t.value.click()}))};return{linkRef:t,deepLink:e,askPermition:s}};var x=Object(i["defineComponent"])({name:"PromoPage",props:{customerState:{type:String,default:null}},components:{"list-item":()=>s.e(2).then(s.bind(null,"cbc7"))},setup({customerState:t}){const{askPermition:e,linkRef:s,deepLink:a}=h(),{copyMessageState:n,copyToClipboard:i}=d();t||g("services_samsung_nomkbopen");const o=(s,a)=>{t?i(s,a):e(a)};return Object.assign(Object.assign({mainAction:o,linkRef:s,deepLink:a,copyMessageState:n},v(t)),p())}}),_=x,f=s("2877"),y=s("9989"),k=s("068f"),w=s("9c40"),C=s("eebe"),S=s.n(C),O=Object(f["a"])(_,a,n,!1,null,null,null);e["default"]=O.exports;S()(O,"components",{QPage:y["a"],QImg:k["a"],QBtn:w["a"]})}}]);